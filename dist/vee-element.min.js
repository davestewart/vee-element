!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("object-get")):"function"==typeof define&&define.amd?define(["exports","object-get"],t):t(e.VeeElement={},e.get)}(this,function(e,t){"use strict";function i(){}t=t&&t.hasOwnProperty("default")?t.default:t;var r=function(e){this.validator=e};r.prototype.validate=function(e,t,r){var o=this;if(void 0===t&&(t=i),void 0===r&&(r=null),"blur"!==e||(void 0===(s=this.fieldValue)||null===s||""===s)){var s,l=this.getRules();l||t();var n=r.validator;n.verify(this.fieldValue,l).then(function(e){var i=e.valid,r=e.errors,s=o.prop,l=r[0],u=o.label?o.label:o.prop,a=n.dictionary.getAttribute(n.dictionary.locale,"The {field} field")||"This field",d=(l&&l.replace("The {field} field",a),l?l.replace("{field}",'"'+u+'"'):null),p={};i||(p[s]=[{field:s,label:o.label,message:d}]),o.validateState=i?"success":"error",o.validateMessage=d,t(d,p),o.elForm&&o.elForm.$emit("validate",s,!r,d)})}},r.prototype.getRules=function(){return this.rules?this.rules:this.prop&&t(this.form.rules,this.prop)||""},r.prototype.getFilteredRule=function(){return this.getRules()},r.prototype.isRequired=function(){var e=this.getRules();return"string"==typeof e?/\brequired\b/.test(e):!!t(e,"required")};var o=function(e){this.validate=e.methods.validate,this.getRules=e.methods.getRules,this.getFilteredRule=e.methods.getFilteredRule,this.isRequired=e.computed.isRequired};e.default=function(e,t,i){void 0===i&&(i=!0),e.options.components.ElForm.options.props.driver=String;var s=e.options.components.ElFormItem.options,l=i?"vee":"async",n={async:new o(s),vee:new r(t)};Object.assign(s.props,{rules:[Object,String,Array],driver:String}),s.computed.isRequired=function(){return this.getDriver().isRequired.apply(this)},Object.assign(s.methods,{getDriver:function(){return n[this.form.driver||l]},validate:function(e,t){var i=this.getDriver();return i.validate.apply(this,[e,t,i])},getRules:function(){return this.getDriver().getRules.apply(this)},getFilteredRule:function(e){return this.getDriver().getFilteredRule.apply(this,[e])}})},Object.defineProperty(e,"__esModule",{value:!0})});
